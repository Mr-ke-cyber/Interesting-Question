----
2020-01-16
# 1. http1.1有哪些特点？http2.0有哪些优点和缺点？http3.0有没有了解？
* 在httP1.1之前，即http1.0的协议使用非持久连接，即在非持久连接下，一个tcp连接只传输一个web对象。浏览器与服务器只保持短暂的连接，服务器完成请求处理后立即断开tcp连接，服务器不跟踪每个客户也不记录过去的请求，这造成了一些性能上的缺陷。因为客户端和服务器每次建立和关闭连接是一个相对比较费时的过程。
* 为了克服上述缺陷，到了http1.1默认采用的是持久连接，在持久连接下，不必为每个web对象的传送建立一个新的连接，即在一个tcp连接上可以传送多个请求和应答，但每个单独的网页文件的请求和应答仍然需要使用各自的连接。Http1.1还允许客户端不用等待上一次请求结果就可以发出下一次请求，但服务端必须按照接收到客户端请求的先后顺序依次回送响应结果，以保证客户端能够区分出每次请求的响应内容，这样也
显著减少了整个下载过程所需要的时间。
> http1.1的缺点：  

主要包括以下几个方面：  
①高延迟--带来页面加载速度的降低：虽然近几年来网络带宽增长非常快，然而我们却并没有看到网络延迟有对应程度的降低。网络延迟问题主要由于队头阻塞(Head-Of-Line Blocking),导致带宽无法被充分利用。
队头阻塞是指当顺序发送的请求序列中的一个请求因为某种原因被阻塞时，在后面排队的所有请求也一并被阻塞，会导致客户端迟迟收不到数据。针对队头阻塞,人们尝试过以下办法来解决:
* 将同一页面的资源分散到不同域名下，提升连接上限。 Chrome有个机制，对于同一个域名，默认允许同时建立 6 个 TCP持久连接，使用持久连接时，虽然能公用一个TCP管道，但是在一个管道中同一时刻只能处理一个请求，在当前的请求没有结束之前，其他的请求只能处于阻塞状态。另外如果在同一个域名下同时有10个请求发生，那么其中4个请求会进入排队等待状态，直至进行中的请求完成。
* Spriting合并多张小图为一张大图,再用JavaScript或者CSS将小图重新“切割”出来的技术。
* 内联(Inlining)是另外一种防止发送很多小图请求的技巧，将图片的原始数据嵌入在CSS文件里面的URL里，减少网络请求次数。
* 拼接(Concatenation)将多个体积较小的JavaScript使用webpack等工具打包成1个体积更大的JavaScript文件,但如果其中1个文件的改动就会导致大量数据被重新下载多个文件。  
②无状态特性--带来的巨大HTTP头部：  
由于报文Header一般会携带"User Agent""Cookie""Accept""Server"等许多固定的头字段，多达几百字节甚至上千字节，但Body却经常只有几十字节（比如GET请求、
204/301/304响应），成了不折不扣的“大头儿子”。Header里携带的内容过大，在一定程度上增加了传输的成本。更要命的是，成千上万的请求响应报文里有很多字段值都是重复的，非常浪费。
③明文传输--带来的不安全性  
HTTP/1.1在传输数据时，所有传输的内容都是明文，客户端和服务器端都无法验证对方的身份，这在一定程度上无法保证数据的安全性。  
④不支持服务器推送消息


